

#ifndef WebURLLoaderClient_h
#define WebURLLoaderClient_h

namespace WebKit {

class WebURLLoader;
class WebURLRequest;
class WebURLResponse;
struct WebURLError;

class WebURLLoaderClient {
public:
    // Called when following a redirect.  |newRequest| contains the request
    // generated by the redirect.  The client may modify |newRequest|.
    virtual void willSendRequest(
        WebURLLoader*, WebURLRequest& newRequest, const WebURLResponse& redirectResponse) = 0;

    // Called to report upload progress.  The bytes reported correspond to
    // the HTTP message body.
    virtual void didSendData(
        WebURLLoader*, unsigned long long bytesSent, unsigned long long totalBytesToBeSent) = 0;

    // Called when response headers are received.
    virtual void didReceiveResponse(WebURLLoader*, const WebURLResponse&) = 0;

    // Called when a chunk of response data is received.
    virtual void didReceiveData(WebURLLoader*, const char* data, int dataLength) = 0;

    // Called when the load completes successfully.
    virtual void didFinishLoading(WebURLLoader*) = 0;

    // Called when the load completes with an error.
    virtual void didFail(WebURLLoader*, const WebURLError&) = 0;

protected:
    ~WebURLLoaderClient() { }
};

} // namespace WebKit

#endif
